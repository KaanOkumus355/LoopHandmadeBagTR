<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>LoopHandmadeBagTr</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="Header">
        <div class="Header-inner">
        </div>
        <div class="first-contain">
        </div>
    </div>
    <div class="filter-buttons">
        <button onclick="filterBags('all')">All</button>
        <button onclick="filterBags('raffia')">Raffia Bags</button>
        <button onclick="filterBags('metallic')">Metallic Bags</button>
    </div>

    <div class="bag-gallery" id="bagGallery"></div>
    <div id="modalsContainer"></div>

    <div class="About">
        <h2 class="about-title">About</h2>
        <p class="about-description">Hello, welcome to <strong>LoopHandmadeBagTR</strong>!<br><br>
        I'm <strong>MÃ¼ge</strong>. I knit all the bags in my store with great care, using the highest quality materials. From knitting to lining, I handle every step myself. Creating beautiful and practical items by hand is my biggest passion.<br><br>
        Thank you for supporting small businesses and my shop!
        </p>
    </div>

    <div class="contacts">
        <img src="photos/logo.jpg" alt="logo" class="logo-img">
        <div class="contact-info">
            <div class="contact-row">
                <img src="photos/insta.jpg" alt="insta-logo"  class="social-logo">
                <span>@loophandmadebag</span>
            </div>

            <div class="contact-row">
                <img src="photos/email.jpg" alt="email-logo" class="social-logo">
                <span>mugeokumus35@hotmail.com</span>
            </div>

            <div class="contact-row">
                <img src="photos/whatsapp.png" alt="whatsapp-logo" class="social-logo">
                <span>+905418814014 (whatsapp only)</span>
            </div>
        </div>
    </div>

    <script>
        function filterBags(category) {
            const cards = document.querySelectorAll('.bag-card');
            cards.forEach(card => {
             const cardCategory = card.getAttribute('data-category');
            if (category === 'all' || cardCategory === category) {
                card.classList.remove('hidden');
            } else {
                card.classList.add('hidden');
            }
            });
            const buttons = document.querySelectorAll('.filter-buttons button');
            buttons.forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[onclick="filterBags('${category}')"]`).classList.add('active');
        }

        let currentImageIndex = 0;
        let currentImages = [];
        let currentModalId = '';


        function openModal(id) {
            const modal = document.getElementById(id);
            const images = JSON.parse(modal.getAttribute('data-images'));

            currentImageIndex = 0;
            currentImages = images;
            currentModalId = id;

            updateModalImage();
            modal.classList.add('active');

        }

        function updateModalImage() {
            const modal = document.getElementById(currentModalId);
            const imgTag = modal.querySelector('#modal-image');
            const infoTag = modal.querySelector('.info');
            imgTag.src = currentImages[currentImageIndex];
            infoTag.textContent = `${currentImageIndex + 1}/${currentImages.length}`;
        }


        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % currentImages.length;
            updateModalImage();
        }

        function prevImage () {
             currentImageIndex = (currentImageIndex - 1 + currentImages.length) % currentImages.length;
            updateModalImage();
        }

        function closeModal(id) {
            document.getElementById(id).classList.remove('active');
        }

        document.addEventListener('click', function (e) {
            document.querySelectorAll('.product-modal.active').forEach(modal => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });
        });

        const products = [
            {
                id: "modal1",
                name: "Raffia Bag 1",
                category: "raffia",
                coverImage: "photos/raffia/raffia1.jpg",
                hoverImage: "photos/raffia/raffiabag1hover.jpg",
                images: [
                    "photos/raffia/raffia1.jpg",
                    "photos/raffia/raffiabag1hover.jpg",
                    "photos/raffia/raffiabag1-2.webp"
                ],
                description: "Step into summer style with our exquisitely crafted Handmade Raffia Clutch Bag...",
                price: "45",
                link: "https://www.etsy.com/listing/1684439505"
            }
        ]

        const gallery = document.getElementById('bagGallery')
        const modals = document.getElementById('modalsContainer')

        products.forEach(product => {
            const cardHTML = `
                <div class="bag-card" data-category="${product.category}" onclick="openModal('${product.id}')">
                    <div class="image-hover-wrapper">
                        <img src="${product.coverImage}" alt="${product.name}" class="base-image">
                        <img src="${product.hoverImage}" alt="${product.name}" class="hover-image">
                    </div>
                    <p>${product.name}</p>
                </div>
            `;
            gallery.innerHTML += cardHTML;

            const imagesArray = JSON.stringify(product.images).replace(/"/g, '&quot;');
            const ModalHTML = `
                    <div class="product-modal" id="${product.id}" data-images="${imagesArray}">
                        <div class="modal-content">
                            <span class="close-btn" onclick="closeModal('${product.id}')">&times;</span>
                            <div class="image-container">
                                <button class="prev" id="prev" onclick="prevImage()">&#8592;</button>
                                <img src="${product.images[0]}" alt="${product.name}" id="modal-image">
                                <button class="next" id="next" onclick="nextImage()">&#8594;</button>
                                <p class="info">1/${product.images.length}</p>
                            </div>
                            <p><strong>${product.name}</strong></p>
                            <p>Description: ${product.description}</p>
                            <p>Price: $${product.price}</p>
                            <a class="buy-button" target="_blank" href="${product.link}">Purchase</a>
                        </div>
                    </div>
                `;
                modals.innerHTML += ModalHTML;
        });
    </script>
</body>
</html>